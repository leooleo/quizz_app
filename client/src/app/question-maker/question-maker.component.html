<ngx-loading [show]="loading"></ngx-loading>
<div *ngIf="user != undefined && userQuestionCount != undefined" class="body">
    <mat-toolbar color="primary">
        Sa longa quizz
        <span class="toolbar-spacer"></span>
        <div>{{user.name}}</div>
        <img src={{user.photoUrl}} class="avatar avatar-marging">
    </mat-toolbar>
    <mat-card class="question-card-quizz" style="text-align: center;">
        <mat-card-title>
            <h2>Pergunta </h2>
        </mat-card-title>
        <h3>Faça uma pergunta e dê três opções</h3>
        <form [formGroup]="profileForm" #formDirective="ngForm">
            <mat-form-field>
                <mat-label>Pergunta</mat-label>
                <input matInput formControlName="question" placeholder="Ex. Qual meu nome?">
            </mat-form-field>
            <br>

            <mat-form-field>
                <mat-label>Primeira resposta</mat-label>
                <input matInput formControlName="firstAnswer" placeholder="Ex. Méo loraes">
            </mat-form-field>
            <br>
            <mat-form-field>
                <mat-label>Segunda resposta</mat-label>
                <input matInput formControlName="secondAnswer" placeholder="Ex. Méo loraes">
            </mat-form-field>
            <br>
            <mat-form-field>
                <mat-label>Terceira resposta</mat-label>
                <input matInput formControlName="thirdAnswer" placeholder="Ex. Méo loraes">
            </mat-form-field>
            <br>
            <br>
            <mat-label class="radio-group">
                <h4>Selecione a opção correta</h4>
            </mat-label>
            <div>
                <mat-radio-group formControlName="correctOption">
                    <mat-radio-button value="1" class="radio-question">Opção 1</mat-radio-button>
                    <mat-radio-button value="2" class="radio-question">Opção 2</mat-radio-button>
                    <mat-radio-button value="3" class="radio-question">Opção 3</mat-radio-button>
                </mat-radio-group>
            </div>
            <br>
            <button mat-raised-button color="accent" (click)="onSubmit(formDirective)">Enviar</button>
        </form>
        <mat-card-footer>
            <div *ngIf="userQuestionCount < 3;else goToQuizz">
                <h5>{{3 - userQuestionCount}} pergunta(s) faltando</h5>
                <br>
                <br>
            </div>
            <ng-template #goToQuizz>
                <br>
                <button mat-raised-button color="accent" (click)="routeToQuizz()">Ir para o quizz</button>
                <br>
                <br>
            </ng-template>

        </mat-card-footer>
    </mat-card>
</div>